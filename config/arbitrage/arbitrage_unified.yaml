# ============================================================================
# å¥—åˆ©ç³»ç»Ÿç»Ÿä¸€é…ç½®æ–‡ä»¶
# ============================================================================
# 
# æ‰€å±ç³»ç»Ÿ: å¥—åˆ©æ‰§è¡Œç»ˆç«¯ V3ï¼ˆåŸºç¡€æ¨¡å¼ / ä¼ ç»Ÿå¥—åˆ©ï¼‰
# ä½¿ç”¨æ¨¡å—: core/services/arbitrage_monitor_v2/config/unified_config_manager.py
# è¯´æ˜: æ¶µç›–ä»·å·®&èµ„é‡‘è´¹ç‡å†³ç­–ã€æ‰§è¡Œ/é£é™©é…ç½®ï¼ŒUI ä¸º V3 ç»ˆç«¯
# ============================================================================

# ============================================================================
# ç³»ç»Ÿè¿è¡Œæ¨¡å¼é…ç½®ï¼ˆä»… V3 åŸºç¡€æ¨¡å¼ä½¿ç”¨ï¼Œåˆ†æ®µç½‘æ ¼ä»æ²¿ç”¨ segmented.yaml çš„ system_modeï¼‰
# ============================================================================
system_mode:
  # ç›‘æ§æ¨¡å¼å¼€å…³ï¼ˆMonitor Only Modeï¼‰
  # true:  åªç›‘æ§ï¼Œä¸æ‰§è¡ŒçœŸå®è®¢å•ï¼ˆæ‰€æœ‰å¥—åˆ©æµç¨‹æ­£å¸¸è¿è¡Œï¼Œä½†ä¸ä¸‹å•ï¼‰
  # false: æ­£å¸¸æ¨¡å¼ï¼Œæ‰§è¡ŒçœŸå®è®¢å•
  monitor_only: false  # ğŸ”¥ å®ç›˜æ¨¡å¼ï¼šæ‰§è¡ŒçœŸå®è®¢å•
  
  # ğŸ”¥ æ•°æ®æ–°é²œåº¦é…ç½®ï¼ˆData Freshnessï¼‰
  # è¯´æ˜ï¼šåœ¨è¿›è¡Œä»·å·®åˆ†ææ—¶ï¼Œåªä½¿ç”¨æ–°é²œåº¦åœ¨æ­¤é˜ˆå€¼å†…çš„äº¤æ˜“æ‰€æ•°æ®
  # ç¤ºä¾‹ï¼šå¦‚æœè®¾ç½®ä¸º2ç§’ï¼Œaã€bã€cä¸‰ä¸ªäº¤æ˜“æ‰€ä¸­ï¼Œcçš„æ•°æ®è¶…è¿‡2ç§’
  #      åˆ™åªä½¿ç”¨aå’Œbè®¡ç®—ä»·å·®ï¼Œb-cå’Œa-cçš„ä»·å·®ä¸ä¼šè¢«è®¡ç®—
  # ç›®çš„ï¼šé˜²æ­¢ä½¿ç”¨è¿‡æœŸä»·æ ¼æ•°æ®è¿›è¡Œå¥—åˆ©å†³ç­–ï¼Œé¿å…è™šå‡å¥—åˆ©ä¿¡å·
  data_freshness_seconds: 3.0  # æ•°æ®æ–°é²œåº¦é˜ˆå€¼ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤3ç§’
  
# ============================================================================
# å¥—åˆ©å†³ç­–é…ç½®ï¼ˆV3 åŸºç¡€æ¨¡å¼ä½¿ç”¨ï¼Œåˆ†æ®µç½‘æ ¼ä»ä»¥ segmented.yaml çš„ decision ä¸ºå‡†ï¼‰
# ============================================================================
arbitrage_decision:
  # å†³ç­–å¼€å…³
  enabled: true
  enable_spread_arbitrage: true      # æ˜¯å¦å¯ç”¨ä»·å·®å¥—åˆ©
  enable_funding_rate_arbitrage: true  # æ˜¯å¦å¯ç”¨èµ„é‡‘è´¹ç‡å¥—åˆ©
  
  # é˜ˆå€¼é…ç½®
  thresholds:
    # ä»·å·®å¥—åˆ©é˜ˆå€¼
    spread_arbitrage_threshold: 0.02         # ä»·å·®å¥—åˆ©è§¦å‘é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰
    spread_persistence_seconds: 2            # ä»·å·®è¿ç»­æ»¡è¶³ç§’æ•°æ‰è§¦å‘å¥—åˆ©
    
    # èµ„é‡‘è´¹ç‡å¥—åˆ©é˜ˆå€¼
    funding_rate_diff_threshold: 0.01         # èµ„é‡‘è´¹ç‡å·®å¥—åˆ©è§¦å‘é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰
    
    # å¯å¿½è§†é˜ˆå€¼
    ignorable_spread_threshold: 0.05         # å¯å¿½è§†çš„å·®ä»·ç™¾åˆ†æ¯”é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰
    ignorable_funding_rate_diff_threshold: 0.01         # å¯å¿½è§†çš„èµ„é‡‘è´¹ç‡å·®ä»·ç™¾åˆ†æ¯”é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰
    
    # å†å²æ•°æ®æ—¶é—´èŒƒå›´
    history_hours: 24           # å†å²è®°å½•æ•°æ®çš„å°æ—¶æ•°é‡ï¼ˆå°æ—¶ï¼‰
    
    # èµ„é‡‘è´¹ç‡ä¸åˆ©æŒç»­æ—¶é—´
    unfavorable_funding_rate_duration_minutes: 60           # èµ„é‡‘è´¹ç‡ä¸åˆ©æŒç»­æ—¶é—´é˜ˆå€¼ï¼ˆåˆ†é’Ÿï¼‰
    
    # å¹³ä»“é˜ˆå€¼
    profit_target_threshold: 0.02         # ä»·å·®ç›ˆåˆ©ç™¾åˆ†æ¯”é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰
    loss_stop_threshold: 0.3          # ä»·å·®äºæŸç™¾åˆ†æ¯”é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰
    
    # èµ„é‡‘è´¹ç‡å¹´åŒ–é˜ˆå€¼
    funding_rate_annual_threshold: 10.0         # èµ„é‡‘è´¹ç‡å¹´åŒ–é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”/å¹´ï¼‰
    
    # ========================================================================
    # ğŸ”¥ ç¨³å®šæ€§åˆ¤æ–­å‚æ•°é…ç½®ï¼ˆå¯è‡ªå®šä¹‰è°ƒæ•´ï¼‰
    # ========================================================================
    
    # ---------- èµ„é‡‘è´¹ç‡å·®ç¨³å®šæ€§åˆ¤æ–­å‚æ•° ----------
    # 3ä¸ªæŒ‡æ ‡éƒ½æ»¡è¶³æ‰ç®—ç¨³å®šï¼šæŒç»­æ—¶é—´ã€æ³¢åŠ¨å¹…åº¦ã€è¶‹åŠ¿ç¨³å®šæ€§
    funding_rate_stability_threshold: 0.5       # æ³¢åŠ¨ç³»æ•°é˜ˆå€¼ï¼ˆæ ‡å‡†å·®/å¹³å‡å€¼ â‰¤ æ­¤å€¼ï¼‰
    funding_rate_min_threshold: 0.01            # èµ„é‡‘è´¹ç‡å·®æœ€å°é˜ˆå€¼ï¼ˆç”¨äºæŒç»­æ—¶é—´åˆ¤æ–­ï¼Œé»˜è®¤0.01%ï¼‰
    funding_rate_duration_ratio: 0.8            # æŒç»­æ—¶é—´å æ¯”é˜ˆå€¼ï¼ˆâ‰¥80%çš„æ—¶é—´è¦æ»¡è¶³æœ€å°é˜ˆå€¼ï¼‰
    funding_rate_extreme_ratio: 0.1             # æç«¯æ³¢åŠ¨æ¬¡æ•°å æ¯”é˜ˆå€¼ï¼ˆâ‰¤10%ç®—ç¨³å®šï¼‰
    funding_rate_extreme_multiplier: 1.5        # æç«¯æ³¢åŠ¨å®šä¹‰ï¼ˆå•æ¬¡å˜åŒ– > å¹³å‡å˜åŒ– Ã— 1.5å€ï¼‰
    
    # ---------- ä»·å·®ç¨³å®šæ€§åˆ¤æ–­å‚æ•° ----------
    # 2ä¸ªæŒ‡æ ‡éƒ½æ»¡è¶³æ‰ç®—ç¨³å®šï¼šæ³¢åŠ¨èŒƒå›´ã€æç«¯æ³¢åŠ¨
    spread_stability_threshold: 0.5             # æ³¢åŠ¨ç³»æ•°é˜ˆå€¼ï¼ˆæ ‡å‡†å·®/ç»å¯¹å€¼å¹³å‡ â‰¤ æ­¤å€¼ï¼‰
    spread_extreme_ratio: 0.15                  # æç«¯æ³¢åŠ¨æ¬¡æ•°å æ¯”é˜ˆå€¼ï¼ˆâ‰¤15%ç®—ç¨³å®šï¼‰
    spread_extreme_multiplier: 2.0              # æç«¯æ³¢åŠ¨å®šä¹‰ï¼ˆå•æ¬¡å˜åŒ– > å¹³å‡å˜åŒ– Ã— 2.0å€ï¼‰
    
    # ---------- é€šç”¨å‚æ•° ----------
    min_data_points_for_stability: 10           # ç¨³å®šæ€§åˆ¤æ–­æœ€å°‘æ•°æ®ç‚¹è¦æ±‚

# ============================================================================
# å¥—åˆ©æ‰§è¡Œé…ç½®
# -----------------------------------------------------------------------------
# âœ… å‚æ•°è¯´æ˜ï¼š
#    - default_order_mode / exchange_order_modes / exchange_fees / order_execution ä¸­çš„é™ä»·/æ»‘ç‚¹/åŒé™ä»·å­—æ®µï¼šåˆ†æ®µç½‘æ ¼ä¸ V3 å…±åŒä½¿ç”¨
#    - quantity_configï¼šä»… V3 åŸºç¡€æ¨¡å¼è¯»å–ï¼›åˆ†æ®µç½‘æ ¼ä½¿ç”¨ segmented.yaml ä¸­æ¯ä¸ª symbol çš„ base_quantity
#    - order_execution.round_pause_secondsï¼šä»… V3 ä½¿ç”¨ï¼ˆåˆ†æ®µæ¨¡å¼å¼ºåˆ¶ 0ï¼‰
#    - order_execution.partial_fill_strategyã€risk_control.*ï¼ˆmin_order_size/price_change_check ç­‰ï¼‰ï¼šå°šæœªåœ¨æ‰§è¡Œå™¨å®ç°ï¼Œå½“å‰ä»»ä½•æ¨¡å¼éƒ½ä¸ä¼šå¼•ç”¨
# ============================================================================
arbitrage_execution:
  # é»˜è®¤ä¸‹å•æ¨¡å¼
  default_order_mode: "limit_market"  # limit_market æˆ– market_marketï¼ˆå…±ç”¨ï¼‰
  
  # ğŸ”¥ æ•°é‡é…ç½®ï¼ˆç›´æ¥ä½¿ç”¨ä»£å¸æ•°é‡ï¼‰
  quantity_config:
    # é»˜è®¤é…ç½®ï¼ˆé€‚ç”¨äºæ‰€æœ‰ä»£å¸ï¼‰
    default:
      single_order_quantity: 0.10         # å•ç¬”ä¸‹å•æ•°é‡ï¼ˆä»£å¸æœ¬ä½ï¼Œä»…V3ï¼‰
      max_position_quantity: 0.20         # æœ€å¤§æŒä»“æ•°é‡ï¼ˆä»£å¸æœ¬ä½ï¼Œä»…V3ï¼‰
      quantity_precision: 4               # æ•°é‡ç²¾åº¦ï¼ˆå°æ•°ä½æ•°ï¼Œä»…V3ï¼‰
    
    # ä»£å¸ç‰¹å®šé…ç½®ï¼ˆå¯é€‰ï¼Œè¦†ç›–é»˜è®¤é…ç½®ï¼‰
    BTC-USDC-PERP:
      single_order_quantity: 0.0015       # çº¦ç­‰äº100 USDCä»·å€¼ï¼ˆä»…V3ï¼‰
      max_position_quantity: 0.0030       # ï¼ˆä»…V3ï¼‰
      quantity_precision: 3               # BTCæ­¥è¿›ä¸º0.001ï¼ˆä»…V3ï¼‰
    
    ETH-USDC-PERP:
      single_order_quantity: 0.0300       # ï¼ˆä»…V3ï¼‰
      max_position_quantity: 0.0600       # ï¼ˆä»…V3ï¼‰
      quantity_precision: 2               # ETHæ­¥è¿›ä¸º0.01ï¼ˆä»…V3ï¼‰
    
    SOL-USDC-PERP:
      single_order_quantity: 1.700        # ï¼ˆä»…V3ï¼‰
      max_position_quantity: 3.400        # ï¼ˆä»…V3ï¼‰
      quantity_precision: 1               # SOLæ­¥è¿›0.1ï¼ˆä»…V3ï¼‰
  
  # äº¤æ˜“æ‰€ä¸‹å•æ¨¡å¼é…ç½®ï¼ˆåˆ†æ®µç½‘æ ¼ä¼šè¯»å–ï¼Œå†³å®šæ¯æ¡è…¿çš„é™ä»·/å¸‚ä»·ç­–ç•¥ï¼‰
  exchange_order_modes:
    edgex:
      order_mode: "limit"               # ä¸‹å•æ¨¡å¼ï¼šé™ä»·å•ï¼ˆæœ€å¿«ï¼‰ï¼ˆå…±ç”¨ï¼‰
      priority: 4                       # ğŸ”¥ ä¸‹å•ä¼˜å…ˆçº§æœ€é«˜ï¼ˆå…±ç”¨ï¼‰
      limit_price_offset_pct: 0.0       # ä»·æ ¼åç§»ä¸º0ï¼ˆä½¿ç”¨tickç²¾åº¦ç­–ç•¥ï¼‰ï¼ˆå…±ç”¨ï¼‰
      use_tick_precision: true          # ğŸ”¥ âœ… Tickä¼˜å…ˆï¼šå¼€å¯åå¼ºåˆ¶æŒ‰â€œä¹°å•=å–ä¸€-1tickã€å–å•=ä¹°ä¸€+1tickâ€çš„è¢«åŠ¨æ–¹å¼ä¸‹å•ï¼Œå¹¶è‡ªåŠ¨å¿½ç•¥ symbol_config é‡Œçš„ç»å¯¹/ç™¾åˆ†æ¯”åç§»ï¼›åªæœ‰æŠŠæ­¤å¼€å…³è®¾ä¸º falseï¼Œæ‰ä¼šå›åˆ°æ¿€è¿›åç§»æ¨¡å¼
    
    backpack:
      order_mode: "limit"               # ä¸‹å•æ¨¡å¼ï¼šé™ä»·å•ï¼ˆå…¶æ¬¡ï¼‰ï¼ˆå…±ç”¨ï¼‰
      priority: 3                       # ğŸ”¥ ä¸‹å•ä¼˜å…ˆçº§å…¶æ¬¡ï¼ˆå…±ç”¨ï¼‰
      limit_price_offset_pct: 0.0       # ä»·æ ¼åç§»ä¸º0ï¼ˆä½¿ç”¨tickç²¾åº¦ç­–ç•¥ï¼‰ï¼ˆå…±ç”¨ï¼‰
      use_tick_precision: true          # ğŸ”¥ âœ… Tickä¼˜å…ˆï¼šå¼€å¯åå¼ºåˆ¶æŒ‰â€œä¹°å•=å–ä¸€-1tickã€å–å•=ä¹°ä¸€+1tickâ€çš„è¢«åŠ¨æ–¹å¼ä¸‹å•ï¼Œå¹¶è‡ªåŠ¨å¿½ç•¥ symbol_config é‡Œçš„ç»å¯¹/ç™¾åˆ†æ¯”åç§»ï¼›åªæœ‰æŠŠæ­¤å¼€å…³è®¾ä¸º falseï¼Œæ‰ä¼šå›åˆ°æ¿€è¿›åç§»æ¨¡å¼
    
    paradex:
      order_mode: "limit"               # Paradex ä½¿ç”¨é™ä»·å• + SDK ç­¾åï¼ˆå…±ç”¨ï¼‰
      priority: 2                       # ä¸ Backpack åŒçº§ï¼Œä¼˜å…ˆè·Ÿéšé«˜é€Ÿäº¤æ˜“æ‰€ï¼ˆå…±ç”¨ï¼‰
      limit_price_offset_pct: 0         # ä»·æ ¼åç§»ä¸‡åˆ†ä¹‹5ï¼Œä¿è¯æŒ‚å•åœ¨ç›˜å£å†…ï¼ˆå…±ç”¨ï¼‰
      use_tick_precision: true          # ğŸ”¥ âœ… Tickä¼˜å…ˆï¼šå¼€å¯åå¼ºåˆ¶æŒ‰â€œä¹°å•=å–ä¸€-1tickã€å–å•=ä¹°ä¸€+1tickâ€çš„è¢«åŠ¨æ–¹å¼ä¸‹å•ï¼Œå¹¶è‡ªåŠ¨å¿½ç•¥ symbol_config é‡Œçš„ç»å¯¹/ç™¾åˆ†æ¯”åç§»ï¼›åªæœ‰æŠŠæ­¤å¼€å…³è®¾ä¸º falseï¼Œæ‰ä¼šå›åˆ°æ¿€è¿›åç§»æ¨¡å¼
    
    lighter:
      order_mode: "market"              # ğŸ”¥ æ”¹ç”¨é™ä»·å•åƒå•æ¨¡å¼ï¼ˆé¿å…WSå¸‚ä»·å•nonceé—®é¢˜ï¼‰ï¼ˆå…±ç”¨ï¼‰
      priority: 1                       # ğŸ”¥ ä¸‹å•ä¼˜å…ˆçº§æœ€ä½ï¼ˆæœ€åä¸‹å•ï¼‰ï¼ˆå…±ç”¨ï¼‰
      limit_price_offset_pct: 0.001     # ğŸ”¥ ç»Ÿä¸€æ‰§è¡Œå±‚çš„é»˜è®¤æ¿€è¿›åç§»ï¼šç™¾åˆ†æ¯”åŸºå‡†ï¼ˆ0.1%ï¼‰ï¼Œä»…åœ¨è¯¥äº¤æ˜“æ‰€ use_tick_precision=false æ—¶ç”Ÿæ•ˆï¼Œç”¨äº lighter ç¬¬äºŒè…¿è¡¥å•ç­‰åƒå•åœºæ™¯ï¼ˆsymbol_config è‹¥æœªè¦†å†™ï¼Œåˆ™æ²¿ç”¨è¿™é‡Œçš„å€¼ï¼‰
      use_tick_precision: false         # ğŸ”¥ âœ… Tickä¼˜å…ˆï¼šå¼€å¯åå¼ºåˆ¶æŒ‰â€œä¹°å•=å–ä¸€-1tickã€å–å•=ä¹°ä¸€+1tickâ€çš„è¢«åŠ¨æ–¹å¼ä¸‹å•ï¼Œå¹¶è‡ªåŠ¨å¿½ç•¥ symbol_config é‡Œçš„ç»å¯¹/ç™¾åˆ†æ¯”åç§»ï¼›åªæœ‰æŠŠæ­¤å¼€å…³è®¾ä¸º falseï¼Œæ‰ä¼šå›åˆ°æ¿€è¿›åç§»æ¨¡å¼
      force_sequential_limit: false      # ğŸ”¥ å¼ºåˆ¶é¡ºåºæ‰§è¡Œï¼šå³ä½¿åŒæ–¹éƒ½æ˜¯limitæ¨¡å¼ï¼Œä¹Ÿé‡‡ç”¨limit+marketæ¨¡å¼ï¼ˆå…ˆç­‰å¯¹æ‰‹æˆäº¤ï¼Œå†ç”¨æ¿€è¿›é™ä»·å•åƒå•ï¼‰ï¼ˆå…±ç”¨ï¼‰
      force_limit_when_second_leg: false  # ğŸ”¥ é™ä»·+å¸‚ä»·æ¨¡å¼ä¸­è‹¥ lighter å……å½“ç¬¬äºŒè…¿ï¼Œå¼ºåˆ¶æ”¹ç”¨æ¿€è¿›é™ä»·é¡ºåºæ‰§è¡Œ
      reuse_signal_price_when_second_leg: false  # ğŸ”§ ç¬¬äºŒè…¿æ¿€è¿›é™ä»·æ˜¯å¦å¤ç”¨å†³ç­–å¼•æ“çš„ä¿¡å·ä»·ï¼ˆtrue=ä¸é‡æ–°æ‹‰ç›˜å£ä»·ï¼‰
      smart_second_leg_price: true      # ğŸ”§ æ™ºèƒ½ç›˜å£ä»·æ ¼åˆ‡æ¢ï¼štrue=æ ¹æ®ç¬¬ä¸€è…¿è¡¨ç°è‡ªåŠ¨å†³å®šæ˜¯å¦å¤ç”¨ä¿¡å·ä»·
    
    aster:
      order_mode: "limit"               # Aster ä½œä¸º maker è…¿ (0.5bps)
      priority: 2                       # ä¼˜å…ˆçº§è¾ƒé«˜ï¼Œå…ˆæŒ‚é™ä»·å•
      limit_price_offset_pct: 0.0       # å¸‚ä»·æ¨¡å¼ä¸‹ä¸ä½¿ç”¨
      use_tick_precision: true          # è¢«åŠ¨æŒ‚å•: ä¹°=å–ä¸€-1tick, å–=ä¹°ä¸€+1tick

    standx:
      order_mode: "market"             # StandX ä½œä¸º taker è…¿ (4bps)ï¼Œå¸‚ä»·æˆäº¤
      priority: 1                       # ä¼˜å…ˆçº§è¾ƒä½
      limit_price_offset_pct: 0.00025   # ç¬¬äºŒè…¿æ¿€è¿›é™ä»·åç§»ï¼ˆ2.5 bpsï¼‰
      use_tick_precision: false          # å…³é—­è¢«åŠ¨æŒ‚å•ï¼Œå¯ç”¨ç™¾åˆ†æ¯”æ¿€è¿›å®šä»·
      force_limit_when_second_leg: true  # ç¬¬äºŒè…¿æ”¹ç”¨æ¿€è¿›é™ä»·æ‰§è¡Œï¼Œé™ä½å¸‚ä»·å†²å‡»

    # é’ˆå¯¹åŒä¸€äº¤æ˜“æ‰€ä¸åŒäº¤æ˜“å¯¹çš„ç²¾ç»†åŒ–è®¾ç½®ï¼ˆç¤ºä¾‹ï¼šlighter å†…éƒ¨å¤šè…¿å¥—åˆ©ï¼‰
    lighter:PAXG-USD-PERP:
      order_mode: "market"               # PAXG è…¿æ”¹ä¸ºé™ä»·å•ï¼Œé…åˆåŒé™ä»·æ¨¡å¼ï¼ˆå…±ç”¨ï¼‰
      priority: 1
    lighter:XAU-USD-PERP:
      order_mode: "market"               # XAU è…¿ä½¿ç”¨é™ä»·å•ï¼ˆä¿æŠ¤å–ç›˜ï¼‰ï¼ˆå…±ç”¨ï¼‰
      priority: 1
    
    # é»˜è®¤é…ç½®ï¼ˆå¦‚æœäº¤æ˜“æ‰€ä¸åœ¨ä¸Šè¿°åˆ—è¡¨ä¸­ï¼‰
    default:
      order_mode: "market"              # é»˜è®¤ä½¿ç”¨å¸‚ä»·å•ï¼ˆå…±ç”¨ï¼‰
      priority: 0                       # é»˜è®¤ä¼˜å…ˆçº§æœ€ä½ï¼ˆå…±ç”¨ï¼‰
  
  # äº¤æ˜“æ‰€æ‰‹ç»­è´¹é…ç½®ï¼ˆåˆ†æ®µç½‘æ ¼åœ¨â€œæ‰£é™¤æ‰‹ç»­è´¹â€æ—¶åŒæ­¥ä½¿ç”¨ï¼‰
  exchange_fees:
    default:
      limit_fee_rate: 0.0001            # é™ä»·é»˜è®¤ä¸‡åˆ†ä¹‹1 0.0001 è¡¨ç¤º 0.01%ï¼ˆä¹Ÿå°±æ˜¯ä¸‡åˆ†ä¹‹ 1ï¼Œ0.0001 Ã— 100 = 0.01%ï¼‰ã€‚
      market_fee_rate: 0.0002           # å¸‚ä»·é»˜è®¤ä¸‡åˆ†ä¹‹3
    edgex:
      limit_fee_rate: 0.0001            # ï¼ˆå…±ç”¨ï¼‰
      market_fee_rate: 0.0003           # ï¼ˆå…±ç”¨ï¼‰
    backpack:
      limit_fee_rate: 0.0001            # ï¼ˆå…±ç”¨ï¼‰
      market_fee_rate: 0.00025           # ï¼ˆå…±ç”¨ï¼‰
    paradex:
      limit_fee_rate: 0.0               # å®˜æ–¹ Maker 0æ‰‹ç»­è´¹ï¼ˆå…±ç”¨ï¼‰
      market_fee_rate: 0.0002           # Taker è´¹ç‡çº¦ 0.05%ï¼ˆå…±ç”¨ï¼‰
    lighter:
      limit_fee_rate: 0.0               # ï¼ˆå…±ç”¨ï¼‰
      market_fee_rate: 0.0              # ï¼ˆå…±ç”¨ï¼‰
    aster:
      limit_fee_rate: 0.00005           # 0.5 bps = 0.005% Maker
      market_fee_rate: 0.0004           # 4 bps = 0.04% Taker
    standx:
      limit_fee_rate: 0.0001            # 1 bps = 0.01% Maker
      market_fee_rate: 0.0004           # 4 bps = 0.04% Taker

  # äº¤æ˜“æ‰€é™æµé…ç½®ï¼ˆå…±ç”¨ï¼Œé™åˆ¶åŒä¸€äº¤æ˜“æ‰€åœ¨çŸ­æ—¶é—´å†…çš„ä¸‹å•æ•°é‡/èŠ‚å¥ï¼Œé¿å…è§¦å‘APIé™é€Ÿï¼‰
  exchange_rate_limits:
    default:
      max_concurrent_orders: 1          # é»˜è®¤åŒä¸€æ—¶é—´åªå…è®¸1ç¬”ï¼ˆå…±ç”¨ï¼‰
      min_interval_ms: 0                # é»˜è®¤ä¸é¢å¤–é™åˆ¶èŠ‚å¥ï¼ˆå…±ç”¨ï¼‰
      rate_limit_cooldown_ms: 1000      # è§¦å‘é™æµåé¢å¤–ç­‰å¾…1ç§’ï¼ˆå…±ç”¨ï¼‰
    edgex:
      max_concurrent_orders: 1          # EdgeX å®˜æ–¹: 2 ops / 2sï¼Œéœ€è¦ä¸²è¡Œï¼ˆå…±ç”¨ï¼‰
      min_interval_ms: 1200             # è‡³å°‘é—´éš”1.2ç§’å†å‘ EdgeX ä¸‹å•ï¼ˆå…±ç”¨ï¼‰
      rate_limit_cooldown_ms: 2000      # è¢«é™æµåé¢å¤–å†·å´1.5ç§’ï¼ˆå…±ç”¨ï¼‰
    lighter:
      max_concurrent_orders: 1          # é™ä»·å•æ”¯æŒå¹¶å‘ï¼ˆå…±ç”¨ï¼‰
      min_interval_ms: 1500              # é™ä»·å•é—´éš” 0.5 ç§’ï¼ˆæ¯”å¸‚ä»·å•æ›´å®½æ¾ï¼‰ï¼ˆå…±ç”¨ï¼‰
      rate_limit_cooldown_ms: 800       # è‹¥è¿”å›é™æµï¼Œå†·å´ 0.8 ç§’ï¼ˆå…±ç”¨ï¼‰
    backpack:
      max_concurrent_orders: 10
      min_interval_ms: 600
      rate_limit_cooldown_ms: 1000
    paradex:
      max_concurrent_orders: 1
      min_interval_ms: 800
      rate_limit_cooldown_ms: 1200
  
  # è®¢å•æ‰§è¡Œå‚æ•°ï¼ˆé™ä»·ç­‰å¾…/æ»‘ç‚¹/åŒé™ä»·ç­‰ï¼Œåˆ†æ®µç½‘æ ¼ä¸ V3 å…±ç”¨ï¼‰
  order_execution:
    limit_order_timeout: 3               # ğŸ”¥ é™ä»·è®¢å•ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰ï¼ˆå…±ç”¨ï¼‰
    lighter_market_order_timeout: 60       # ğŸ”¥ lighterå¸‚ä»·è®¢å•ä¸“ç”¨ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰
    max_retry_count: 3                   # è®¢å•é‡è¯•æ¬¡æ•°ï¼ˆå…±ç”¨ï¼‰
    partial_fill_strategy: "cancel"      # ğŸ”¥ 5ç§’æœªå®Œå…¨æˆäº¤åˆ™å–æ¶ˆè®¢å•ï¼ˆæœªå®ç°ï¼‰
    round_pause_seconds: 60              # ğŸ”¥ æ¯è½®æˆäº¤å®Œæˆåçš„ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼Œåˆ†æ®µæ¨¡å¼å›ºå®š0ï¼‰
    enable_dual_limit_mode: true         # åŒäº¤æ˜“æ‰€å¯å¯ç”¨åŒé™ä»·å¹¶è¡Œæ¨¡å¼ï¼ˆå…±ç”¨ï¼‰
    dual_limit_retry_initial_delay: 5   # åŒé™ä»·å…¨æœªæˆäº¤åçš„åˆå§‹é¿è®©ç§’æ•°ï¼ˆå…±ç”¨ï¼‰
    dual_limit_retry_max_delay: 60      # åŒé™ä»·é¿è®©çš„æœ€å¤§ç­‰å¾…ç§’æ•°ï¼ˆå…±ç”¨ï¼‰
    dual_limit_retry_backoff_factor: 2.0 # é¿è®©å€æ•°ï¼Œé€æ¬¡ç¿»å€ç›´è‡³ä¸Šé™ï¼ˆå…±ç”¨ï¼‰
    
    # æ»‘ç‚¹ä¿æŠ¤ï¼ˆå¸‚ä»·å•ï¼‰
    slippage_protection:
      enabled: true                 # ï¼ˆå…±ç”¨ï¼‰
      max_slippage: 0.001          # ğŸ”¥ é»˜è®¤æ»‘ç‚¹å®¹å¿åº¦ï¼ˆåƒåˆ†ä¹‹1ï¼‰ï¼Œä»…åœ¨å¥—åˆ©å¯¹æœªè®¾ç½®æ—¶å…œåº•
  
  # é£é™©æ§åˆ¶ï¼ˆé—ç•™å­—æ®µï¼Œæ‰§è¡Œå™¨ä»ç”¨æ¥å…œåº• min/max order sizeï¼‰
  risk_control:
    max_order_size: 1.0            # æœ€å¤§è®¢å•æ•°é‡ï¼ˆå·²åºŸå¼ƒï¼Œç”±quantity_configæ›¿ä»£ï¼‰
    min_order_size: 0.001          # æœ€å°è®¢å•æ•°é‡ï¼ˆå·²åºŸå¼ƒï¼Œç”±quantity_configæ›¿ä»£ï¼‰
    
    # ä»·æ ¼å˜åŒ–æ£€æŸ¥ï¼ˆä¸‹å•å‰æ£€æŸ¥ä»·æ ¼æ˜¯å¦å˜åŒ–è¿‡å¤§ï¼‰
    price_change_check:
      enabled: true
      max_price_change: 0.01       # æœ€å¤§å…è®¸ä»·æ ¼å˜åŒ–ï¼ˆç™¾åˆ†æ¯”ï¼‰ ç›®å‰è¿™ç»„å‚æ•°æ²¡æœ‰å®é™…ä½œç”¨ï¼Œæ˜¯é¢„ç•™/é—ç•™å­—æ®µã€‚

# ============================================================================
# å…¨å±€é£é™©æ§åˆ¶é…ç½®ï¼ˆä»… V3 åŸºç¡€æ¨¡å¼ä½¿ç”¨ï¼›åˆ†æ®µç½‘æ ¼ä½¿ç”¨ segmented.yaml ç¬¬4èŠ‚ï¼‰
# ============================================================================
risk_control:
  # ä»“ä½ç®¡ç†
  position_management:
    max_single_token_position: 10.0      # ğŸ”¥ å•ä¸€ä»£å¸æœ€å¤§æŒä»“æ•°é‡ï¼ˆä½œä¸ºé»˜è®¤/å…œåº•ï¼‰
    max_total_position: 30.0             # æ‰€æœ‰ä»£å¸æ€»æŒä»“æ•°é‡ï¼ˆç»å¯¹å€¼ä¹‹å’Œï¼‰
  
  # è´¦æˆ·ä½™é¢ç®¡ç†
  balance_management:
    min_balance_warning: 50.0            # ä½™é¢ä¸è¶³è­¦å‘Šé˜ˆå€¼ï¼ˆUSDCä»·å€¼ï¼‰
    min_balance_close_position: 40.0     # ğŸ”¥ ä½™é¢ä¸è¶³40 USDCæ—¶å¹³ä»“
    check_interval: 60                   # ä½™é¢æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
  
  # ç½‘ç»œæ•…éšœå¤„ç†
  network_failure:
    enabled: true
    reconnect_interval: 30               # é‡è¿æ£€æµ‹é—´éš”ï¼ˆç§’ï¼‰
    max_reconnect_attempts: 100000000           # æœ€å¤§é‡è¿æ¬¡æ•°
    auto_resume: true                    # ç½‘ç»œæ¢å¤åè‡ªåŠ¨æ¢å¤
  
  # äº¤æ˜“æ‰€ç»´æŠ¤æ£€æµ‹
  exchange_maintenance:
    enabled: true
    check_interval: 60                   # ç»´æŠ¤æ£€æµ‹é—´éš”ï¼ˆç§’ï¼‰
    maintenance_error_codes: [503, 502]  # ç»´æŠ¤é”™è¯¯ç åˆ—è¡¨
    auto_resume: true                    # æ¢å¤åè‡ªåŠ¨æ¢å¤
  
  # ä»·æ ¼å¼‚å¸¸æ£€æµ‹
  price_anomaly:
    enabled: true
    max_price_change_rate: 0.05         # æœ€å¤§å…è®¸ä»·æ ¼å˜åŒ–ç‡ï¼ˆ5%ï¼‰
    check_window: 5                      # æ£€æŸ¥æ—¶é—´çª—å£ï¼ˆåˆ†é’Ÿï¼‰
  
  # è®¢å•æ‰§è¡Œå¼‚å¸¸æ£€æµ‹
  order_anomaly:
    enabled: true
    max_order_wait_time: 300            # è®¢å•æœ€å¤§ç­‰å¾…æ—¶é—´ï¼ˆç§’ï¼‰
    auto_cancel_timeout: true           # è¶…æ—¶è‡ªåŠ¨å–æ¶ˆ
  
  # èµ„é‡‘è´¹ç‡å¼‚å¸¸æ£€æµ‹
  funding_rate_anomaly:
    enabled: true
    max_funding_rate_change: 0.3       # æœ€å¤§å…è®¸èµ„é‡‘è´¹ç‡å˜åŒ–ï¼ˆ1%ï¼‰
  
  # æŒä»“æ—¶é—´é™åˆ¶
  position_duration:
    enabled: true
    max_position_duration: 24          # æœ€å¤§æŒä»“æ—¶é—´ï¼ˆå°æ—¶ï¼Œ7å¤©ï¼‰
    auto_close_on_timeout: true         # è¶…æ—¶è‡ªåŠ¨å¹³ä»“
  
  # å•æ¬¡äº¤æ˜“é£é™©é™åˆ¶
  single_trade_risk:
    enabled: true
    max_single_trade_loss: 1000.0       # å•æ¬¡äº¤æ˜“æœ€å¤§äºæŸï¼ˆUSDCä»·å€¼ï¼‰
  
  # æ¯æ—¥äº¤æ˜“æ¬¡æ•°é™åˆ¶
  daily_trade_limit:
    enabled: true
    max_daily_trades: 100               # æ¯æ—¥æœ€å¤§äº¤æ˜“æ¬¡æ•°
  
  # äº¤æ˜“å¯¹é£é™©é™åˆ¶
  symbol_risk:
    disabled_symbols: []                # æš‚åœäº¤æ˜“å¯¹åˆ—è¡¨
    high_risk_symbols: []              # é«˜é£é™©äº¤æ˜“å¯¹åˆ—è¡¨ï¼ˆé¢å¤–ç›‘æ§ï¼‰
  
  # æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥
  data_consistency:
    enabled: true
    check_interval: 300                  # ä¸€è‡´æ€§æ£€æŸ¥é—´éš”ï¼ˆç§’ï¼‰
    auto_fix: true                      # è‡ªåŠ¨ä¿®å¤ä¸ä¸€è‡´æ•°æ®
