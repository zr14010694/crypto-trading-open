# ====================================
# Hyperliquidäº¤æ˜“æ‰€é…ç½®æ–‡ä»¶
# ====================================
# æœ¬é…ç½®æ–‡ä»¶ç”¨äºé…ç½®Hyperliquidäº¤æ˜“æ‰€çš„å„é¡¹å‚æ•°
# åŒ…æ‹¬APIè¿æ¥ã€è®¤è¯ä¿¡æ¯ã€å¸‚åœºé…ç½®ã€WebSocketè®¾ç½®ç­‰

hyperliquid:
  # APIè¿æ¥é…ç½®
  api:
    base_url: https://api.hyperliquid.xyz  # REST APIåŸºç¡€URL
    timeout: 30                           # APIè¯·æ±‚è¶…æ—¶æ—¶é—´(ç§’)
    version: v1                           # APIç‰ˆæœ¬
    ws_url: wss://api.hyperliquid.xyz/ws  # WebSocket URL
    
  # è®¤è¯é…ç½® - ç”¨äºç§æœ‰APIè°ƒç”¨
  # ğŸ’¡ è¯´æ˜ï¼šHyperliquidä½¿ç”¨é’±åŒ…ç­¾åè®¤è¯ï¼Œåªéœ€è¦2ä¸ªå­—æ®µ
  # ğŸ“Œ å¯†é’¥å·²è¿ç§»åˆ°ç¯å¢ƒå˜é‡ï¼ˆ.env æ–‡ä»¶ï¼‰ï¼š
  #    HYPERLIQUID_PRIVATE_KEY - é’±åŒ…ç§é’¥
  #    HYPERLIQUID_WALLET_ADDRESS - é’±åŒ…åœ°å€
  authentication:
    private_key: ''                      # ç•™ç©ºï¼Œä½¿ç”¨ç¯å¢ƒå˜é‡ HYPERLIQUID_PRIVATE_KEY
    wallet_address: ''                   # ç•™ç©ºï¼Œä½¿ç”¨ç¯å¢ƒå˜é‡ HYPERLIQUID_WALLET_ADDRESS
  # è‡ªå®šä¹‰è®¢é˜…é…ç½® - å®šä¹‰é¢„è®¾çš„è®¢é˜…ç»„åˆ
  custom_subscriptions:
    # å½“å‰æ¿€æ´»çš„è®¢é˜…ç»„åˆ
    active_combination: major_coins
    
    # é¢„å®šä¹‰çš„è®¢é˜…ç»„åˆ
    combinations:
      # å®Œæ•´æ•°æ®ç»„åˆ
      full_data:
        data_types:
          orderbook: false    # è®¢å•ç°¿æ•°æ®
          ticker: true        # ä»·æ ¼æ•°æ® (æ¨è)
          trades: false       # äº¤æ˜“æ•°æ®
          user_data: false    # ç”¨æˆ·æ•°æ®
        description: ğŸ”¥ æ°¸ç»­åˆçº¦ä»·æ ¼æ•°æ®è®¢é˜…
        symbols:
        - BTC/USDC:PERP
        - ETH/USDC:PERP
        
      # ä¸»æµå¸ç§ç»„åˆ (å½“å‰æ´»è·ƒ)
      major_coins:
        data_types:
          orderbook: false    # è®¢å•ç°¿æ•°æ®
          ticker: true        # ä»·æ ¼æ•°æ® (æ¨è)
          trades: false       # äº¤æ˜“æ•°æ®
        description: ğŸ”¥ ä¸»æµå¸ç§æ°¸ç»­åˆçº¦ä»·æ ¼æ•°æ®è®¢é˜…
        symbols:
        - BTC/USDC:PERP
        - ETH/USDC:PERP
        - SOL/USDC:PERP
        
      # ä»…ä»·æ ¼æ•°æ®ç»„åˆ
      price_only:
        data_types:
          orderbook: false    # è®¢å•ç°¿æ•°æ®
          ticker: true        # ä»·æ ¼æ•°æ® (æ¨è)
          trades: false       # äº¤æ˜“æ•°æ®
        description: ğŸ”¥ æ°¸ç»­åˆçº¦ä»·æ ¼æ•°æ®è®¢é˜…
        symbols:
        - BTC/USDC:PERP
        - ETH/USDC:PERP
        - SOL/USDC:PERP
        - AVAX/USDC:PERP
        - DOGE/USDC:PERP
        
    # è‡ªå®šä¹‰è®¢é˜…é…ç½®
    custom:
      data_types:
        orderbook: false    # è®¢å•ç°¿æ•°æ®
        ticker: true        # ä»·æ ¼æ•°æ® (æ¨è)
        trades: false
        user_data: false
      symbols: []
  development:
    debug: false
    mock_data: false
    sandbox: false
  enabled: true
  error_handling:
    max_retries: 3
    retry_backoff: 2
    retry_delay: 1
  exchange_id: hyperliquid
  fees:
    perpetual:
      funding: 0.0001
      maker: 0.0002
      taker: 0.0005
    spot:
      maker: 0.0
      taker: 0.001
  health_check:
    enabled: true
    interval: 60
    timeout: 10
  logging:
    format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
    level: INFO
  market_data:
    orderbook_limit: 100
    ticker_interval: 1000
    trade_history_limit: 500
  # å¸‚åœºç±»å‹é…ç½® - å®šä¹‰æ”¯æŒçš„å¸‚åœºç±»å‹
  market_types:
    # é»˜è®¤å¸‚åœºç±»å‹ (ä¼˜å…ˆé€‰æ‹©)
    default_market: perpetual
    
    # æ°¸ç»­åˆçº¦å¸‚åœºé…ç½®
    perpetual:
      description: æ°¸ç»­åˆçº¦å¸‚åœº     # å¸‚åœºæè¿°
      enabled: true              # æ˜¯å¦å¯ç”¨ (true=å¯ç”¨, false=ç¦ç”¨)
      suffix: :PERP             # ç¬¦å·åç¼€ (å·²å¼ƒç”¨ï¼Œç°åœ¨ç»Ÿä¸€ä½¿ç”¨:USDC)
      
    # å¸‚åœºä¼˜å…ˆçº§ (ä¼˜å…ˆå¤„ç†å“ªç§å¸‚åœº)
    priority: perpetual
    
    # ç°è´§å¸‚åœºé…ç½®
    spot:
      description: ç°è´§å¸‚åœº        # å¸‚åœºæè¿°
      enabled: false             # æ˜¯å¦å¯ç”¨ (å»ºè®®å…³é—­ä»¥å‡å°‘æ•°æ®é‡)
      suffix: :SPOT             # ç¬¦å·åç¼€ (å·²å¼ƒç”¨ï¼Œç°åœ¨ç»Ÿä¸€ä½¿ç”¨:USDC)
  name: Hyperliquid
  # ç²¾åº¦é…ç½® - å®šä¹‰ä»·æ ¼å’Œæ•°é‡çš„å°æ•°ä½æ•°
  precision:
    # ä»·æ ¼ç²¾åº¦ (å°æ•°ä½æ•°)
    price:
      ADA/USDC:PERP: 6          # ADAæ°¸ç»­åˆçº¦ä»·æ ¼6ä½å°æ•°
      AVAX/USDC:PERP: 4         # AVAXæ°¸ç»­åˆçº¦ä»·æ ¼4ä½å°æ•°
      AVAX/USDC:SPOT: 4         # AVAXç°è´§ä»·æ ¼4ä½å°æ•°
      BTC/USDC:PERP: 2          # BTCæ°¸ç»­åˆçº¦ä»·æ ¼2ä½å°æ•°
      BTC/USDC:SPOT: 2          # BTCç°è´§ä»·æ ¼2ä½å°æ•°
      DOGE/USDC:PERP: 6         # DOGEæ°¸ç»­åˆçº¦ä»·æ ¼6ä½å°æ•°
      ETH/USDC:PERP: 2          # ETHæ°¸ç»­åˆçº¦ä»·æ ¼2ä½å°æ•°
      ETH/USDC:SPOT: 2          # ETHç°è´§ä»·æ ¼2ä½å°æ•°
      LINK/USDC:PERP: 4         # LINKæ°¸ç»­åˆçº¦ä»·æ ¼4ä½å°æ•°
      SOL/USDC:PERP: 4          # SOLæ°¸ç»­åˆçº¦ä»·æ ¼4ä½å°æ•°
      SOL/USDC:SPOT: 4          # SOLç°è´§ä»·æ ¼4ä½å°æ•°
      UNI/USDC:PERP: 4          # UNIæ°¸ç»­åˆçº¦ä»·æ ¼4ä½å°æ•°
      default: 6                # é»˜è®¤ä»·æ ¼ç²¾åº¦
      
    # æ•°é‡ç²¾åº¦ (å°æ•°ä½æ•°)
    quantity:
      ADA/USDC:PERP: 0          # ADAæ°¸ç»­åˆçº¦æ•°é‡0ä½å°æ•°
      AVAX/USDC:PERP: 3         # AVAXæ°¸ç»­åˆçº¦æ•°é‡3ä½å°æ•°
      AVAX/USDC:SPOT: 3         # AVAXç°è´§æ•°é‡3ä½å°æ•°
      BTC/USDC:PERP: 5          # BTCæ°¸ç»­åˆçº¦æ•°é‡5ä½å°æ•°
      BTC/USDC:SPOT: 5          # BTCç°è´§æ•°é‡5ä½å°æ•°
      DOGE/USDC:PERP: 0         # DOGEæ°¸ç»­åˆçº¦æ•°é‡0ä½å°æ•°
      ETH/USDC:PERP: 4          # ETHæ°¸ç»­åˆçº¦æ•°é‡4ä½å°æ•°
      ETH/USDC:SPOT: 4          # ETHç°è´§æ•°é‡4ä½å°æ•°
      LINK/USDC:PERP: 2         # LINKæ°¸ç»­åˆçº¦æ•°é‡2ä½å°æ•°
      SOL/USDC:PERP: 3          # SOLæ°¸ç»­åˆçº¦æ•°é‡3ä½å°æ•°
      SOL/USDC:SPOT: 3          # SOLç°è´§æ•°é‡3ä½å°æ•°
      UNI/USDC:PERP: 2          # UNIæ°¸ç»­åˆçº¦æ•°é‡2ä½å°æ•°
      default: 6                # é»˜è®¤æ•°é‡ç²¾åº¦
      
  # é€Ÿç‡é™åˆ¶é…ç½® - é˜²æ­¢APIè°ƒç”¨è¿‡äºé¢‘ç¹
  rate_limits:
    order_cancellation: 50      # è®¢å•å–æ¶ˆé€Ÿç‡é™åˆ¶ (æ¯åˆ†é’Ÿ)
    order_creation: 20          # è®¢å•åˆ›å»ºé€Ÿç‡é™åˆ¶ (æ¯åˆ†é’Ÿ)
    rest_api: 100              # REST APIé€Ÿç‡é™åˆ¶ (æ¯åˆ†é’Ÿ)
    websocket: 10              # WebSocketè¿æ¥é€Ÿç‡é™åˆ¶ (æ¯åˆ†é’Ÿ)
  # è®¢é˜…æ¨¡å¼é…ç½® - æ§åˆ¶å¦‚ä½•å‘ç°å’Œè®¢é˜…äº¤æ˜“å¯¹
  subscription_mode:
    # è®¢é˜…æ¨¡å¼: "dynamic" æˆ– "predefined"
    mode: dynamic
    
    # åŠ¨æ€è®¢é˜…é…ç½® - è‡ªåŠ¨å‘ç°äº¤æ˜“å¯¹
    dynamic:
      # æ•°æ®ç±»å‹é…ç½®
      data_types:
        orderbook: false       # è®¢å•ç°¿æ•°æ®
        ticker: true          # ä»·æ ¼æ•°æ® (æ¨è)
        trades: false         # äº¤æ˜“æ•°æ®
        user_data: false      # ç”¨æˆ·æ•°æ®
        
      # äº¤æ˜“å¯¹å‘ç°é…ç½®
      discovery:
        enabled: true         # æ˜¯å¦å¯ç”¨è‡ªåŠ¨å‘ç°
        filter_criteria:
          # æ’é™¤æ¨¡å¼ (ç¬¦åˆä»¥ä¸‹æ¨¡å¼çš„äº¤æ˜“å¯¹å°†è¢«æ’é™¤)
          exclude_patterns:
          - '*SPOT*'         # æ’é™¤ç°è´§äº¤æ˜“å¯¹
          - '*TEST*'         # æ’é™¤æµ‹è¯•äº¤æ˜“å¯¹
          exclude_symbols: []  # æ’é™¤ç‰¹å®šäº¤æ˜“å¯¹
          
          # åŒ…å«æ¨¡å¼ (åªåŒ…å«ç¬¦åˆä»¥ä¸‹æ¨¡å¼çš„äº¤æ˜“å¯¹)
          include_patterns:
          - '*/USDC:USDC'    # åªåŒ…å«USDCè®¡ä»·çš„äº¤æ˜“å¯¹
          
          # å¸‚åœºç±»å‹è¿‡æ»¤
          market_types:
          - perpetual        # åªåŒ…å«æ°¸ç»­åˆçº¦
          
          max_symbols: 1000   # æœ€å¤§äº¤æ˜“å¯¹æ•°é‡
          volume_threshold: 1000000  # æœ€å°äº¤æ˜“é‡é˜ˆå€¼
          
      # åŠ¨æ€è®¢é˜…é…ç½®
      dynamic_subscription:
        auto_discovery_interval: 300  # è‡ªåŠ¨å‘ç°é—´éš”(ç§’)
        max_retry_attempts: 3         # æœ€å¤§é‡è¯•æ¬¡æ•°
        retry_delay: 5               # é‡è¯•å»¶è¿Ÿ(ç§’)
    
    # é¢„å®šä¹‰è®¢é˜…é…ç½® - ä½¿ç”¨å›ºå®šçš„äº¤æ˜“å¯¹åˆ—è¡¨
    predefined:
      # æ‰¹é‡è®¢é˜…é…ç½®
      batch_subscription:
        batch_size: 10              # æ‰¹é‡å¤§å°
        delay_between_batches: 1    # æ‰¹æ¬¡é—´å»¶è¿Ÿ(ç§’)
        enabled: true               # æ˜¯å¦å¯ç”¨æ‰¹é‡è®¢é˜…
        
      # æ•°æ®ç±»å‹é…ç½®
      data_types:
        orderbook: false           # è®¢å•ç°¿æ•°æ®
        ticker: true              # ä»·æ ¼æ•°æ® (æ¨è)
        trades: false             # äº¤æ˜“æ•°æ®
        user_data: false          # ç”¨æˆ·æ•°æ®
        
      # é¢„å®šä¹‰äº¤æ˜“å¯¹åˆ—è¡¨
      symbols:
      - BTC/USDC:USDC
      - ETH/USDC:USDC
      - SOL/USDC:USDC
      - AVAX/USDC:USDC
      - DOGE/USDC:USDC
      - BTC/USDC:USDC
      - ETH/USDC:USDC
      - SOL/USDC:USDC
  # ç¬¦å·æ˜ å°„é…ç½®å·²ç§»é™¤ - ç°åœ¨ç”±æ‰§è¡Œå™¨ç»Ÿä¸€å¤„ç†æ ¼å¼è½¬æ¢
  
  # æ”¯æŒçš„äº¤æ˜“å¯¹é…ç½®
  symbols:
    # æ°¸ç»­åˆçº¦äº¤æ˜“å¯¹ - ğŸ”¥ ä¿®å¤ï¼šç»Ÿä¸€ä½¿ç”¨:USDCæ ¼å¼
    perpetual:
    - BTC/USDC:USDC           # BTCæ°¸ç»­åˆçº¦
    - ETH/USDC:USDC           # ETHæ°¸ç»­åˆçº¦
    - SOL/USDC:USDC           # SOLæ°¸ç»­åˆçº¦
    - AVAX/USDC:USDC          # AVAXæ°¸ç»­åˆçº¦
    - DOGE/USDC:USDC          # DOGEæ°¸ç»­åˆçº¦
    - ADA/USDC:USDC           # ADAæ°¸ç»­åˆçº¦
    - LINK/USDC:USDC          # LINKæ°¸ç»­åˆçº¦
    - UNI/USDC:USDC           # UNIæ°¸ç»­åˆçº¦
    - AAVE/USDC:USDC          # AAVEæ°¸ç»­åˆçº¦
    - MATIC/USDC:USDC         # MATICæ°¸ç»­åˆçº¦
    - DOT/USDC:USDC           # DOTæ°¸ç»­åˆçº¦
    - ATOM/USDC:USDC          # ATOMæ°¸ç»­åˆçº¦
    
    # ç°è´§äº¤æ˜“å¯¹ - ğŸ”¥ ä¿®å¤ï¼šç»Ÿä¸€ä½¿ç”¨:USDCæ ¼å¼
    spot:
    - BTC/USDC:USDC           # BTCç°è´§
    - ETH/USDC:USDC           # ETHç°è´§
    - SOL/USDC:USDC           # SOLç°è´§
    - AVAX/USDC:USDC          # AVAXç°è´§
    - DOGE/USDC:SPOT
    - ADA/USDC:SPOT
    - LINK/USDC:SPOT
    - UNI/USDC:SPOT
  trading:
    perpetual:
      default_leverage: 10
      margin_mode: cross
      max_leverage: 50
      max_order_size: 10000
      min_order_size: 0.001
    spot:
      default_leverage: 1
      margin_mode: cash
      max_leverage: 1
      max_order_size: 10000
      min_order_size: 0.001
  # WebSocketé…ç½® - æ§åˆ¶å®æ—¶æ•°æ®è®¢é˜…è¡Œä¸º
  websocket:
    # æ˜¯å¦å¯ç”¨WebSocketè®¢é˜…
    enabled: true
    
    # ğŸ”„ WebSocketå®ç°æ¨¡å¼åˆ‡æ¢ - æ ¸å¿ƒé…ç½®å‚æ•°
    # å¯é€‰å€¼:
    #   - "native": åŸç”ŸWebSocketå®ç°
    #     âœ… é›¶å»¶è¿Ÿï¼Œé«˜æ€§èƒ½
    #     âœ… ç›´æ¥è¿æ¥HyperliquidåŸç”ŸAPI
    #     âœ… ä¸“é—¨ä¼˜åŒ–çš„å®ç°
    #     âœ… å¤„ç†åŸç”Ÿæ•°æ®æ ¼å¼
    #     âš ï¸  æ³¨æ„ï¼šåŸç”Ÿå®ç°ç›®å‰ç¼ºå°‘è®¢å•ç›‘å¬åŠŸèƒ½
    #   - "ccxt": CCXT WebSocketå®ç° (æ¨èç”¨äºç½‘æ ¼äº¤æ˜“)
    #     âœ… æˆç†Ÿç¨³å®šçš„ccxtåº“æ”¯æŒ
    #     âœ… æ ‡å‡†åŒ–æ¥å£
    #     âœ… æ›´å¥½çš„å…¼å®¹æ€§
    #     âœ… ä¸°å¯Œçš„åŠŸèƒ½æ”¯æŒ
    #     âœ… å®Œæ•´çš„è®¢å•å®æ—¶ç›‘å¬ï¼ˆwatch_ordersï¼‰
    # åˆ‡æ¢æ–¹æ³•:
    #   1. ä½¿ç”¨è„šæœ¬: python3 switch_hyperliquid_websocket.py [native|ccxt]
    #   2. æ‰‹åŠ¨ä¿®æ”¹: ç›´æ¥æ”¹å˜ä¸‹é¢çš„å€¼
    #   3. é‡å¯ç›‘æ§ç¨‹åºä½¿é…ç½®ç”Ÿæ•ˆ
    # ğŸ”¥ ä½¿ç”¨ ccxt å®ç°ï¼ˆéœ€è¦ ccxt >= 4.4.xï¼‰âœ… å½“å‰ä½¿ç”¨
    implementation: native
    
    # è¿æ¥ç®¡ç†é…ç½®
    auto_reconnect: true          # æ˜¯å¦è‡ªåŠ¨é‡è¿
    max_reconnect_attempts: 5     # æœ€å¤§é‡è¿å°è¯•æ¬¡æ•°
    reconnect_delay: 5           # é‡è¿å»¶è¿Ÿ(ç§’)
    ping_interval: 30            # å¿ƒè·³é—´éš”(ç§’)
    
    # è®¢é˜…é…ç½® - æ§åˆ¶è®¢é˜…å“ªäº›æ•°æ®ç±»å‹
    subscriptions:
      # æ°¸ç»­åˆçº¦è®¢é˜…
      perpetual:
        activeAssetCtx: true     # æ´»è·ƒèµ„äº§ä¸Šä¸‹æ–‡ (ç”¨äºè·å–å¸‚åœºä¿¡æ¯)
        allMids: true           # æ‰€æœ‰ä¸­é—´ä»· (tickeræ•°æ®)
        l2Book: true           # L2è®¢å•ç°¿æ·±åº¦æ•°æ®
        trades: false          # äº¤æ˜“æ•°æ® (æš‚æ—¶å…³é—­ä»¥å‡å°‘æ•°æ®é‡)
      
      # ç°è´§åˆçº¦è®¢é˜…
      spot:
        activeAssetCtx: false   # ç°è´§æš‚æ—¶ä¸è®¢é˜…æ´»è·ƒèµ„äº§ä¸Šä¸‹æ–‡
        allMids: true          # ç°è´§ä¸­é—´ä»·æ•°æ®
        l2Book: true          # ç°è´§L2è®¢å•ç°¿
        trades: false         # ç°è´§äº¤æ˜“æ•°æ®
